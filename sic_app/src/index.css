@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --toast-bg: #ffffff;
    --toast-color: #1f2937;
  }
  
  .dark {
    --toast-bg: #374151;
    --toast-color: #f9fafb;
  }
  
  body {
    @apply bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100;
    font-feature-settings: "rlig" 1, "calt" 1;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Improved focus indicators for accessibility */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800;
  }
  
  /* Better tap targets for mobile */
  .tap-target {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }
  
  /* Safe area support for mobile */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }
}

@layer components {
  /* Card component */
  .card {
    @apply bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm;
  }
  
  /* Button variants */
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg focus-ring disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200;
  }
  
  .btn-secondary {
    @apply bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100 font-medium py-2 px-4 rounded-lg focus-ring disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200;
  }
  
  .btn-ghost {
    @apply hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 font-medium py-2 px-4 rounded-lg focus-ring disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200;
  }
  
  /* Input styles */
  .input {
    @apply w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus-ring disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  /* Status badges */
  .status-draft {
    @apply bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300;
  }
  
  .status-pending {
    @apply bg-warning-50 text-warning-700 dark:bg-warning-900 dark:bg-opacity-20 dark:text-warning-300;
  }
  
  .status-paid {
    @apply bg-success-50 text-success-700 dark:bg-success-900 dark:bg-opacity-20 dark:text-success-300;
  }
  
  .status-overdue {
    @apply bg-error-50 text-error-700 dark:bg-error-900 dark:bg-opacity-20 dark:text-error-300;
  }
  
  .status-cancelled {
    @apply bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400;
  }
}

@layer utilities {
  /* Mobile-first utilities */
  .mobile-scroll {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }

  /* Ensure full viewport height on mobile */
  .mobile-full-height {
    min-height: 100vh;
    min-height: 100dvh; /* Dynamic viewport height for mobile */
  }
  
  /* Improved text legibility */
  .text-balance {
    text-wrap: balance;
  }
  
  /* One-handed interaction helpers */
  .thumb-friendly {
    @apply absolute bottom-4 right-4 z-10;
  }
  
  /* Loading states */
  .loading-shimmer {
    @apply animate-pulse bg-gray-200 dark:bg-gray-700 rounded;
  }
}