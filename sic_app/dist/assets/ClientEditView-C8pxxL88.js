import{j as e}from"./utils-BFDESJkx.js";import{B as t,C as r,d as l,e as c,b as d}from"./index-CqREN1s9.js";import{C as p}from"./ClientForm-BnMDfEZb.js";import{h as u,j as v}from"./hooks-DgF8CINs.js";import{f,b as N}from"./vendor-DoupW2GI.js";import{A as o}from"./arrow-left-ByMrzti7.js";import"./zod-BP3mTalM.js";import"./user-5P6zNW4c.js";import"./mail-BFqoYxaV.js";import"./phone-BqcGoIby.js";function $(){const{id:m}=f(),s=N(),i=parseInt(m||"0"),{data:a,isLoading:x}=u(i),n=v(),h=async g=>{try{await n.mutateAsync({id:i,data:g}),s(`/clients/${i}`)}catch(j){console.error("Failed to update client:",j)}};return x?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"loading-shimmer h-10 w-10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"loading-shimmer h-8 w-48 mb-2"}),e.jsx("div",{className:"loading-shimmer h-4 w-64"})]})]}),e.jsx("div",{className:"loading-shimmer h-96 w-full rounded-lg"})]}):a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>s(`/clients/${i}`),className:"p-2","aria-label":"Back to client details",children:e.jsx(o,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Edit ",a.name]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Update client information"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(p,{onSubmit:h,isLoading:n.isPending,isEditing:!0,defaultValues:{name:a.name,email:a.email,contact_name:a.contact_name||void 0,contact_phone:a.contact_phone||void 0,timezone:a.timezone||void 0}})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(r,{children:[e.jsx(l,{children:e.jsx(c,{children:"Quick Actions"})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{variant:"ghost",className:"w-full justify-start",onClick:()=>s(`/invoices/new?client_id=${i}`),children:"Create Invoice"}),e.jsx(t,{variant:"ghost",className:"w-full justify-start",onClick:()=>s(`/invoices?client_id=${i}`),children:"View Invoices"}),e.jsx(t,{variant:"ghost",className:"w-full justify-start",onClick:()=>s(`/clients/${i}`),children:"View Client Details"}),e.jsx(t,{variant:"ghost",className:"w-full justify-start",onClick:()=>s("/clients"),children:"Back to All Clients"})]})})]}),e.jsxs(r,{className:"bg-warning-50 dark:bg-warning-900/20 border-warning-200 dark:border-warning-800",children:[e.jsx(l,{children:e.jsx(c,{className:"text-warning-700 dark:text-warning-300",children:"Important Notes"})}),e.jsx(d,{children:e.jsxs("div",{className:"text-sm space-y-2 text-warning-600 dark:text-warning-400",children:[e.jsx("p",{children:"• Changes will affect all future communications"}),e.jsx("p",{children:"• Email changes may require re-verification"}),e.jsx("p",{children:"• Existing invoices won't be modified"})]})})]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Client not found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The client you're trying to edit doesn't exist."}),e.jsxs(t,{variant:"ghost",onClick:()=>s("/clients"),children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Back to Clients"]})]})}export{$ as ClientEditView};
