import{h as a,i as r,k as u}from"./utils-BFDESJkx.js";import{j as t,z as i}from"./index-CqREN1s9.js";const n={auth:["auth"],clients:["clients"],client:e=>["clients",e],invoices:["invoices"],invoice:e=>["invoices",e],reminders:["reminders"],reminder:e=>["reminders",e],analytics:["analytics"],analyticsSummary:["analytics","summary"],analyticsTimeseries:(e,s)=>["analytics","timeseries",e,s],templates:["templates"],template:e=>["templates",e]};function p(){return a({mutationFn:async e=>{const s={username:e.username,password:e.password};return(await t.postForm("/auth/login",s)).data},onSuccess:e=>{t.setToken(e.access_token),i.success("Successfully logged in!")},onError:e=>{console.error("Login failed:",e)}})}function m(){return a({mutationFn:async e=>(await t.post("/auth/register",e)).data,onSuccess:e=>{t.setToken(e.access_token),i.success("Account created successfully!")},onError:e=>{console.error("Registration failed:",e)}})}function d(e){return r({queryKey:[...n.clients,e],queryFn:async()=>await t.get("/clients",e)})}function f(e){return r({queryKey:n.client(e),queryFn:async()=>(await t.get(`/clients/${e}`)).data,enabled:e>0})}function q(){const e=u();return a({mutationFn:async s=>(await t.post("/clients",s)).data,onSuccess:()=>{e.invalidateQueries({queryKey:n.clients}),e.refetchQueries({queryKey:n.clients}),i.success("Client created successfully!")}})}function v(){const e=u();return a({mutationFn:async({id:s,data:c})=>(await t.put(`/clients/${s}`,c)).data,onSuccess:s=>{e.invalidateQueries({queryKey:n.clients}),e.refetchQueries({queryKey:n.clients}),e.invalidateQueries({queryKey:n.client(s.id)}),i.success("Client updated successfully!")}})}function g(e){return r({queryKey:[...n.invoices,e],queryFn:async()=>await t.get("/invoices",e)})}function K(e){return r({queryKey:n.invoice(e),queryFn:async()=>(await t.get(`/invoices/${e}`)).data,enabled:e>0})}function w(){const e=u();return a({mutationFn:async s=>(await t.post("/invoices",s)).data,onSuccess:()=>{e.invalidateQueries({queryKey:n.invoices}),e.invalidateQueries({queryKey:n.analyticsSummary}),i.success("Invoice created successfully!")}})}function C(e){return r({queryKey:[...n.reminders,e],queryFn:async()=>await t.get("/reminders",e)})}function F(){return r({queryKey:n.analyticsSummary,queryFn:async()=>(await t.get("/analytics/summary")).data})}export{m as a,F as b,g as c,d,K as e,C as f,w as g,f as h,q as i,v as j,p as u};
